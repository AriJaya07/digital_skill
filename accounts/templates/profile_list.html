{% extends "base.html" %}

{% block title %}Profiles{% endblock %}

{% block content %}
<h1 class="text-2xl font-bold mb-4">All Users</h1>

<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
    {% for user in users %}
        <div class="bg-white p-4 rounded shadow">
            {% if user.profile_image %}
                <img src="{{ user.profile_image.url }}" class="w-24 h-24 object-cover rounded-full mb-2">
            {% else %}
                <div class="w-24 h-24 bg-gray-300 rounded-full mb-2"></div>
            {% endif %}
            <h2 class="font-bold">{{ user.username }}</h2>
            <p>Email: {{ user.email }}</p>
            <p>Role: {{ user.role }}</p>
            <p>Bio: {{ user.bio|default:"-" }}</p>
            {% if request.user == user or request.user.role == "admin" %}
                <a href="{% url 'edit_profile' user.id %}" class="text-blue-600 hover:underline mt-2 block">Edit Profile</a>
            {% endif %}
        </div>
    {% endfor %}
</div>
{% endblock %}
